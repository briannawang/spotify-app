"use strict";(self.webpackChunkspotify_app=self.webpackChunkspotify_app||[]).push([[515],{515:function(t,e,s){s.r(e);var a=s(152),i=s(791),n=s(890),r=(s(109),s(184)),l={items:[{track:{uri:"",id:"",name:"",album:{images:[{url:""}]},artists:[{name:""}],duration_ms:0}}],total:0};function c(t){var e=t.track,s=t.token,a=t.context_uri;return(0,r.jsxs)("tr",{className:"list_row",onClick:function(){!function(t,e,s){var a='{"context_uri": "'+s+'", "offset": {"uri": "'+t+'"}}';n.ajax({url:"https://api.spotify.com/v1/me/player/play",type:"PUT",data:a,beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Content-Type","application/json")},success:function(e){console.log("changed song to: "+t)}})}(e.uri,s,a)},children:[(0,r.jsx)("td",{children:(0,r.jsx)("img",{src:e.album.images[0].url,className:"small_cover",alt:""})}),(0,r.jsxs)("td",{children:[(0,r.jsx)("p",{className:"list_item",id:"track_top_text",children:e.name}),(0,r.jsxs)("p",{className:"list_item",id:"track_bottom_text",children:[e.artists[0].name,e.artists[1]&&", "+e.artists[1].name]})]})]})}function o(t){for(var e=t.playlist,s=t.title,a=t.token,i=t.context_uri,n=[],l=e.items.length-1;l>=0;l--)n.push((0,r.jsx)(c,{track:e.items[l].track,token:a,context_uri:i}));return(0,r.jsxs)("div",{className:"playlist-container",children:[(0,r.jsx)("p",{children:s}),(0,r.jsx)("div",{className:"playlist_list",children:(0,r.jsx)("table",{className:"list_table",children:n})})]})}e.default=function(t){var e=t.token,s=t.url,c=t.title,u=t.context_uri,p=(t.offset,(0,i.useState)(l)),d=(0,a.Z)(p,2),m=d[0],f=d[1],x=(0,i.useState)(!0),j=(0,a.Z)(x,2),h=j[0],_=j[1];return(0,i.useEffect)((function(){""!==s&&n.ajax({url:s,type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Content-Type","application/json")},success:function(t){t?(f(t),_(!1)):_(!0)}})}),[s]),h?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"playlist-display"})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"playlist-display",children:(0,r.jsx)(o,{playlist:m,title:c,token:e,context_uri:u})})})}}}]);
//# sourceMappingURL=515.98fdfaa2.chunk.js.map