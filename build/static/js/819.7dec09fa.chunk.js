"use strict";(self.webpackChunkspotify_app=self.webpackChunkspotify_app||[]).push([[819],{819:function(t,e,s){s.r(e);var a=s(152),l=s(791),i=s(890),n=(s(109),s(184)),r=l.lazy((function(){return s.e(515).then(s.bind(s,515))})),c={uri:"",name:"",id:"",tracks:{href:"",total:0},offset:0},o={items:[{uri:"",name:"",id:"",tracks:{href:"",total:0},images:[{url:""}]}],total:0},u=function(t){return encodeURIComponent(t).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};function f(t){var e=t.playlist,s=t.setShowTracks,a=t.setUrl,l=t.setClickedPlaylist;return(0,n.jsxs)("tr",{className:"list_row",onClick:function(){!function(t,e,s,a){var l=t.tracks.total>50?t.tracks.total-50:0;s(t.tracks.href+"?offset="+l+"&limit=50&fields=total,items(track(id,name,album(images(url)),artists(name),duration_ms, uri))"),t.offset=l,a(t),e(!0)}(e,s,a,l)},children:[(0,n.jsx)("td",{className:"list_item",children:(0,n.jsx)("img",{src:e.images[0].url,className:"small_cover",alt:""})}),(0,n.jsx)("td",{className:"list_item",children:e.name})]})}function d(t){for(var e=t.userPlaylist,s=t.setShowTracks,a=t.setUrl,l=t.setClickedPlaylist,i=[],r=0;r<e.items.length;r++)i.push((0,n.jsx)(f,{playlist:e.items[r],setShowTracks:s,setUrl:a,setClickedPlaylist:l}));return(0,n.jsxs)("div",{className:"playlist-container",children:[(0,n.jsx)("p",{children:"playlist"}),(0,n.jsx)("div",{className:"playlist_list",children:(0,n.jsx)("table",{className:"list_table",children:i})})]})}e.default=function(t){var e=t.token,s=t.userId,f=(0,l.useState)(o),m=(0,a.Z)(f,2),p=m[0],h=m[1],k=(0,l.useState)(!1),y=(0,a.Z)(k,2),j=y[0],x=y[1],v=(0,l.useState)(c),_=(0,a.Z)(v,2),b=_[0],C=_[1],N=(0,l.useState)(""),S=(0,a.Z)(N,2),g=S[0],w=S[1],P=(0,l.useState)(!0),T=(0,a.Z)(P,2),U=T[0],Z=T[1];return(0,l.useEffect)((function(){""!==s&&i.ajax({url:"https://api.spotify.com/v1/users/"+u(s)+"/playlists?offset=0&limit=50",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Content-Type","application/json")},success:function(t){t?(h(t),Z(!1)):Z(!0)}})}),[s]),U?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"playlist-display"})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:"back_button",onClick:function(){!function(t){t(!1)}(x)},children:"\u231c"}),j?(0,n.jsx)(r,{token:e,url:g,title:b.name,context_uri:b.uri,offset:b.offset}):(0,n.jsx)("div",{className:"playlist-display",children:(0,n.jsx)(d,{userPlaylist:p,setShowTracks:x,setUrl:w,setClickedPlaylist:C})})]})}},109:function(){}}]);
//# sourceMappingURL=819.7dec09fa.chunk.js.map